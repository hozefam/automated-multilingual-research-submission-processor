<div class="login-wrapper">
  <div class="login-card">
    <!-- Back link -->
    <a routerLink="/" class="back-link">â† Back to Home</a>

    <h1 class="login-title">AMRSP Portal</h1>

    <!-- Role selector -->
    <div class="role-selector">
      <label class="role-option" [class.active]="selectedRole() === 'user'">
        <input
          type="radio"
          name="role"
          value="user"
          [checked]="selectedRole() === 'user'"
          (change)="onRoleChange('user')"
        />
        <span class="role-icon">ğŸ‘¤</span>
        <span>User Login</span>
      </label>
      <label class="role-option" [class.active]="selectedRole() === 'admin'">
        <input
          type="radio"
          name="role"
          value="admin"
          [checked]="selectedRole() === 'admin'"
          (change)="onRoleChange('admin')"
        />
        <span class="role-icon">ğŸ›¡ï¸</span>
        <span>Admin Login</span>
      </label>
    </div>

    <p class="login-subtitle">
      Sign in as
      <strong>{{ selectedRole() === 'admin' ? 'Administrator' : 'User' }}</strong>
    </p>

    <!-- Demo credentials hint -->
    <div class="demo-hint">
      <span class="demo-hint-label">ğŸ”‘ Demo credentials</span>
      @if (selectedRole() === 'admin') {
        <span class="demo-hint-creds"
          >username: <code>admin</code> &nbsp;Â·&nbsp; password: <code>admin</code></span
        >
      } @else {
        <span class="demo-hint-creds"
          >username: <code>user</code> &nbsp;Â·&nbsp; password: <code>user</code></span
        >
      }
    </div>

    <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
      <div class="form-group">
        <label for="username">Username</label>
        <input
          id="username"
          type="text"
          [(ngModel)]="username"
          name="username"
          [placeholder]="selectedRole() === 'admin' ? 'Enter admin username' : 'Enter username'"
          required
          autocomplete="username"
        />
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input
          id="password"
          type="password"
          [(ngModel)]="password"
          name="password"
          placeholder="Enter password"
          required
          autocomplete="current-password"
        />
      </div>

      @if (errorMessage()) {
        <p class="error-message">{{ errorMessage() }}</p>
      }

      <button type="submit" class="btn-login" [class.admin-btn]="selectedRole() === 'admin'">
        {{ selectedRole() === 'admin' ? 'ğŸ›¡ï¸ Login as Admin' : 'ğŸ‘¤ Login as User' }}
      </button>
    </form>
  </div>
</div>
